<!--
    https://weatherwidget.io/
    Celcius: Remove ?unit=us from href
 -->
<script>
!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src='https://weatherwidget.io/js/widget.min.js';fjs.parentNode.insertBefore(js,fjs);}}(document,'script','weatherwidget-io-js');
</script>

<style>

    /* Tutorial https://www.w3schools.com/Css/css_rwd_grid.asp */

    /*First ensure that all HTML elements have the box-sizing property set to border-box. This makes sure that the padding and border are included in the total width and height of the elements. */
    * {
        box-sizing: border-box;
    }

    /*make one class for each of the 12 columns, class="col-" and a number defining how many columns the section should span:*/
    .col-1 {width: 8.33%;}
    .col-2 {width: 16.66%;}
    .col-3 {width: 25%;}
    .col-4 {width: 33.33%;}
    .col-5 {width: 41.66%;}
    .col-6 {width: 50%;}
    .col-7 {width: 58.33%;}
    .col-8 {width: 66.66%;}
    .col-9 {width: 75%;}
    .col-10 {width: 83.33%;}
    .col-11 {width: 91.66%;}
    .col-12 {width: 100%;}

    /* All these columns should be floating to the left, and have a padding of 15px: */
    [class*="col-"] {
        float: left;
        padding: 15px;
    }

    /* The columns inside a row are all floating to the left, and are therefore taken out of the flow of the page, and other elements will be placed as if the columns do not exist. To prevent this, we will add a style that clears the flow: */
    .row::after {
        content: "";
        clear: both;
        display: table;
      }

    /* Carl's Styles
    Colors: https://paletton.com/#uid=74V1c0kn4u2dQI9iXySsCrYtYlK
    */
    body {
        background-color: #52106A;
        color: #E9FA8E;
    }
    .ch-nopad [class*="col-"] {
        padding: 0;
    }
    .ch-darksky [class*="col-"] {
        padding: 0;
        border:5;
        border-color:#52106A
    }
    .fahrenheit {
        color: #6FC3C3;
    }
    .celsius {
        color: #FFAC68;
    }
    [class*="col-"] {
        padding: 5px;
    }
</style>

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<head>
    <!-- Vue development version, includes helpful console warnings -->
    <!-- <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script> -->
    <!-- Vue production version, optimized for size and speed -->
    <script src="https://cdn.jsdelivr.net/npm/vue"></script>

    <!-- jQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    <script>
        const LAT_LONG = "42.4201,-71.1615"; // Arlington, MA
        const FORECAST_BOX = "66,78";        // derived from https://api.weather.gov/points/42.4201,-71.1615
        const HOURLY_URL = `https://api.weather.gov/gridpoints/BOX/${FORECAST_BOX}/forecast/hourly`;

        function fTempWindChill(fTemp,mphWind) {
            chill=(
                35.74
                + 0.6215 * fTemp
                - 35.75          * Math.pow(mphWind,0.16)
                + 0.4275 * fTemp * Math.pow(mphWind,0.16)
            );
            return chill
        }
        function celsiusTempFromFahrenheit(FahrenheitTemp) {
            return (FahrenheitTemp - 32) * 5 / 9
        }
    </script>

    <!-- Favicon Stuff -->
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon.png?v=69B8QMb3zQ">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png?v=69B8QMb3zQ">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png?v=69B8QMb3zQ">
    <link rel="manifest" href="/site.webmanifest?v=69B8QMb3zQ">
    <link rel="mask-icon" href="/safari-pinned-tab.svg?v=69B8QMb3zQ" color="#5bbad5">
    <link rel="shortcut icon" href="/favicon.ico?v=69B8QMb3zQ">
    <meta name="msapplication-TileColor" content="#b91d47">
    <meta name="theme-color" content="#d80242">
    
    <title>ðŸ’™ Weather Arlington ðŸ’™</title>
</head>
<body>
    <div class="row">
        <div class="col-6 fahrenheit">
            <center>Fahrenheit</center>
        </div>
        <div class="col-6 celsius">
            <center>Celsius</center>
        </div>
    </div>
    <div class="row ch-darksky fahrenheit">
        <div class="col-6">
            <script type='text/javascript' src='https://darksky.net/widget/default-small/42.4201,-71.1615/us12/en.js?width=100%&height=70&title=Full Forecast&textColor=6FC3C3&bgColor=52106A&transparency=false&skyColor=undefined&fontFamily=Times New Roman&customFont=&units=us'></script>
        </div>
        <div class="col-6 celsius">
            <script type='text/javascript' src='https://darksky.net/widget/default-small/42.4201,-71.1615/uk12/en.js?width=100%&height=70&title=Full Forecast&textColor=FFAC68&bgColor=52106A&transparency=false&skyColor=undefined&fontFamily=Times New Roman&customFont=&units=ca'></script>
        </div>
    </div>
    <div class="row" id="app">
        <div class="col-6 fahrenheit">
            <center>Feels Like: {{fFeelsLike}}Â°F</center>
        </div>
        <div class="col-6 celsius">
            <center>Feels Like: {{cFeelsLike}}Â°C</center>
        </div>
    </div>
    <script>
        var app = new Vue({
            el: '#app',
            data: {
                fFeelsLike: "-40",
                cFeelsLike: "-40",
            },
            mounted() { // when the Vue app is booted up, this is run automatically.
                var self = this // create a closure to access component in the callback below
                $.getJSON(HOURLY_URL, function(data) {
                    temp = data.properties.periods[0].temperature; // 27
                    windSpeedString = data.properties.periods[0].windSpeed; // "8 mph"
                    windSpeed = Number(windSpeedString.split(" ")[0]) // 8
                    self.fFeelsLike = Math.round(fTempWindChill(temp, windSpeed));
                    self.cFeelsLike = Math.round(celsiusTempFromFahrenheit(self.fFeelsLike));
                });
            },
        })
    </script>
    <div class="row ch-darksky fahrenheit">
        <div class="col-12">
            <script type='text/javascript' src='https://darksky.net/widget/graph-bar/42.4201,-71.1615/us12/en.js?width=100%&height=120&title=Full Forecast&textColor=6FC3C3&bgColor=672d7c&transparency=false&skyColor=undefined&fontFamily=Times New Roman&customFont=&units=us&timeColor=6FC3C3&tempColor=6FC3C3&currentDetailsOption=false'></script>
        </div>
    </div>
    <div class="row ch-darksky celsius">
        <div class="col-12">
            <script type='text/javascript' src='https://darksky.net/widget/graph-bar/42.4201,-71.1615/ca12/en.js?width=100%&height=120&title=Full Forecast&textColor=FFAC68&bgColor=52106A&transparency=false&skyColor=undefined&fontFamily=Times New Roman&customFont=&units=ca&timeColor=FFAC68&tempColor=FFAC68&currentDetailsOption=false'></script>
        </div>
    </div>
    <div class="row ch-nopad">
        <div class="ch-left col-6 fahrenheit">
            <a class="weatherwidget-io left" href="https://forecast7.com/en/42d42n71d16/arlington/?unit=us" data-font="Times New Roman" data-icons="Climacons Animated" data-mode="Forecast" data-theme="candy" data-basecolor="#52106A" data-shadow="rgba(0, 0, 0, 0.35)" data-textcolor="#6FC3C3" data-highcolor="#6FC3C3" data-lowcolor="#6FC3C3" data-suncolor="#E9FA8E" data-mooncolor="#cccccc" data-cloudcolor="#cccccc" data-cloudfill="#B784C9" data-raincolor="#7FB4C3" >Arlington, MA, USA</a>
        </div>
        <div class="ch-right col-6 celsius">
            <a class="weatherwidget-io left" href="https://forecast7.com/en/42d42n71d16/arlington/" data-font="Times New Roman" data-icons="Climacons Animated" data-mode="Forecast" data-theme="candy" data-basecolor="#52106A" data-shadow="rgba(0, 0, 0, 0.35)" data-textcolor="#FFAC68" data-highcolor="#FFAC68" data-lowcolor="#FFAC68" data-suncolor="#E9FA8E" data-mooncolor="#cccccc" data-cloudcolor="#cccccc" data-cloudfill="#B784C9" data-raincolor="#7FB4C3" >Arlington, MA, USA</a>
        </div>
    </div>
    <div class="row">
        <div class="col-12">
            <center>
                CH ðŸ’™ LR
            </center>
        </div>
    </div>
</body>